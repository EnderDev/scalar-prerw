/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/. */

import { createElement, Fragment } from "preact";
import Link from "../../Link";

const products = {
	browser: {
		logo: () => (
			<>
				<path
					d="M32 16C32 7.16344 24.8366 0 16 0C7.16344 0 0 7.16344 0 16C0 24.8366 7.16344 32 16 32C24.8366 32 32 24.8366 32 16Z"
					fill="hsl(209, 97%, 39%)"
				/>
				<path
					d="M22.5 16C22.5 19.5899 19.5899 22.5 16 22.5C12.4101 22.5 9.5 19.5899 9.5 16C9.5 12.4101 12.4101 9.5 16 9.5C19.5899 9.5 22.5 12.4101 22.5 16Z"
					fill="white"
				/>
				<g style="mix-blend-mode:overlay">
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M24.875 16C24.875 20.9015 20.9015 24.875 16 24.875C11.0985 24.875 7.125 20.9015 7.125 16C7.125 11.0985 11.0985 7.125 16 7.125C20.9015 7.125 24.875 11.0985 24.875 16ZM16 22.5C19.5899 22.5 22.5 19.5899 22.5 16C22.5 12.4101 19.5899 9.5 16 9.5C12.4101 9.5 9.5 12.4101 9.5 16C9.5 19.5899 12.4101 22.5 16 22.5Z"
						fill="white"
						fill-opacity="0.4"
					/>
				</g>
			</>
		),
		wordtype: () => (
			<path
				fill-rule="evenodd"
				clip-rule="evenodd"
				d="M44 28.5457H53.1886C55.6576 28.5457 57.8237 28.0099 59.687 26.9382C61.5736 25.8665 63.041 24.3755 64.0891 22.465C65.1606 20.5314 65.6962 18.3181 65.6962 15.8253C65.6962 13.2859 65.1489 11.0609 64.0542 9.15053C62.9828 7.21681 61.4921 5.71412 59.5822 4.64247C57.6723 3.54749 55.4595 3 52.944 3H44V28.5457ZM48.472 7.12365H52.5248C54.295 7.12365 55.8089 7.47311 57.0667 8.17204C58.3244 8.87096 59.2911 9.87272 59.9665 11.1774C60.642 12.4588 60.9797 14.0081 60.9797 15.8253C60.9797 17.5959 60.6536 19.1219 60.0014 20.4032C59.3493 21.6846 58.406 22.6747 57.1715 23.3736C55.9371 24.0726 54.4697 24.422 52.7693 24.422H48.472V7.12365ZM69.4083 15.1612C68.6164 16.5125 68.2204 18.0851 68.2204 19.8789C68.2204 21.6729 68.6164 23.2572 69.4083 24.6316C70.2003 25.983 71.2949 27.0429 72.6924 27.8117C74.0899 28.5806 75.6738 28.965 77.4439 28.965C79.2374 28.965 80.8213 28.5806 82.1954 27.8117C83.5929 27.0429 84.6877 25.983 85.4796 24.6316C86.2715 23.2572 86.6674 21.6729 86.6674 19.8789C86.6674 18.0851 86.2715 16.5125 85.4796 15.1612C84.6877 13.7867 83.5929 12.7149 82.1954 11.9462C80.8213 11.1773 79.2374 10.7929 77.4439 10.7929C75.6738 10.7929 74.0899 11.1773 72.6924 11.9462C71.2949 12.715 70.2003 13.7867 69.4083 15.1612ZM73.1117 22.6397C72.6924 21.8476 72.4828 20.9273 72.4828 19.8789C72.4828 18.8073 72.6924 17.887 73.1117 17.1182C73.5543 16.3261 74.1365 15.7088 74.8585 15.2661C75.6039 14.8234 76.4657 14.6021 77.4439 14.6021C78.4222 14.6021 79.284 14.8234 80.0293 15.2661C80.7747 15.7088 81.3569 16.3261 81.7762 17.1182C82.1954 17.887 82.4051 18.8073 82.4051 19.8789C82.4051 20.9273 82.1954 21.8476 81.7762 22.6397C81.3569 23.4319 80.7747 24.0492 80.0293 24.4919C79.284 24.9346 78.4222 25.1558 77.4439 25.1558C76.4657 25.1558 75.6039 24.9346 74.8585 24.4919C74.1365 24.0492 73.5543 23.4319 73.1117 22.6397ZM88.1633 11.2822H91.4824V5.90044H95.7447V11.2822H99.0638V14.8467H95.7447V28.5456H91.4824V14.8467H88.1633V11.2822ZM116.267 13.9032V6.94892H121.542C122.823 6.94892 123.802 7.24014 124.477 7.82258C125.153 8.40498 125.49 9.24369 125.49 10.3387C125.49 11.4803 125.164 12.3656 124.512 12.9946C123.86 13.6004 122.917 13.9032 121.682 13.9032H116.267ZM116.267 17.6774V24.5968H121.927C123.208 24.5968 124.186 24.2939 124.862 23.6882C125.537 23.0825 125.875 22.2088 125.875 21.0672C125.875 19.9955 125.525 19.1685 124.827 18.586C124.151 17.9803 123.185 17.6774 121.927 17.6774H116.267ZM114.765 28.5457H111.795V3H114.765H116.267H121.927C124.466 3 126.457 3.61738 127.901 4.85215C129.345 6.08695 130.067 7.77595 130.067 9.91935C130.067 11.457 129.695 12.75 128.949 13.7984C128.337 14.6397 127.483 15.2928 126.384 15.7574C127.6 16.1586 128.548 16.787 129.229 17.6425C130.044 18.6676 130.452 19.9955 130.452 21.6263C130.452 23.0708 130.125 24.3172 129.473 25.3656C128.821 26.3907 127.866 27.1828 126.608 27.7419C125.374 28.2778 123.883 28.5457 122.136 28.5457H116.267H114.765ZM144.752 11.2124V15.1613H143.18C141.619 15.1613 140.397 15.5806 139.511 16.4194C138.626 17.2348 138.184 18.4812 138.184 20.1586V28.5457H133.921V11.3172H137.939L138.188 13.8542C138.483 13.1675 138.924 12.5781 139.511 12.086C140.373 11.3638 141.491 11.0027 142.865 11.0027C143.169 11.0027 143.471 11.0143 143.773 11.0376C144.077 11.0609 144.402 11.1192 144.752 11.2124ZM147.238 15.1612C146.445 16.5125 146.05 18.0851 146.05 19.8789C146.05 21.6729 146.445 23.2572 147.238 24.6316C148.03 25.983 149.125 27.0429 150.522 27.8117C151.92 28.5806 153.503 28.965 155.274 28.965C157.066 28.965 158.651 28.5806 160.025 27.8117C161.423 27.0429 162.517 25.983 163.309 24.6316C164.101 23.2572 164.497 21.6729 164.497 19.8789C164.497 18.0851 164.101 16.5125 163.309 15.1612C162.517 13.7867 161.423 12.7149 160.025 11.9462C158.651 11.1773 157.066 10.7929 155.274 10.7929C153.503 10.7929 151.92 11.1773 150.522 11.9462C149.125 12.715 148.03 13.7867 147.238 15.1612ZM150.941 22.6397C150.522 21.8476 150.312 20.9273 150.312 19.8789C150.312 18.8073 150.522 17.887 150.941 17.1182C151.384 16.3261 151.966 15.7088 152.688 15.2661C153.433 14.8234 154.295 14.6021 155.274 14.6021C156.252 14.6021 157.113 14.8234 157.859 15.2661C158.604 15.7088 159.187 16.3261 159.606 17.1182C160.025 17.887 160.235 18.8073 160.235 19.8789C160.235 20.9273 160.025 21.8476 159.606 22.6397C159.187 23.4319 158.604 24.0492 157.859 24.4919C157.113 24.9346 156.252 25.1558 155.274 25.1558C154.295 25.1558 153.433 24.9346 152.688 24.4919C151.966 24.0492 151.384 23.4319 150.941 22.6397ZM170.856 28.5456L165.266 11.2822H169.703L171.974 18.6908C172.159 19.3664 172.346 20.077 172.533 20.8225C172.718 21.568 172.882 22.3485 173.022 23.1639C173.138 22.6047 173.243 22.0922 173.336 21.6263C173.452 21.1604 173.581 20.7061 173.721 20.2633C173.86 19.7975 174.023 19.2733 174.21 18.6908L176.586 11.2822H180.918L183.224 18.6908C183.27 18.8539 183.339 19.1335 183.433 19.5295C183.549 19.9023 183.666 20.31 183.783 20.7526C183.898 21.1953 184.003 21.6379 184.097 22.0806C184.213 22.4999 184.295 22.8611 184.342 23.1639C184.435 22.7213 184.551 22.2203 184.691 21.6612C184.831 21.1021 184.971 20.5663 185.11 20.0537C185.273 19.5179 185.401 19.0636 185.495 18.6908L187.801 11.2822H192.307L186.333 28.5456H182.35L179.975 21.0671C179.625 19.9256 179.346 18.9588 179.136 18.1666C178.926 17.3512 178.787 16.7222 178.717 16.2795C178.647 16.6988 178.518 17.258 178.332 17.9569C178.146 18.6558 177.831 19.7159 177.389 21.137L175.013 28.5456H170.856ZM197.278 23.3038H193.226C193.226 25.0046 193.854 26.379 195.112 27.4274C196.393 28.4758 198.105 29 200.248 29C201.669 29 202.926 28.7787 204.021 28.336C205.115 27.8701 205.966 27.2177 206.572 26.379C207.177 25.5171 207.48 24.5036 207.48 23.3387C207.48 22.0108 207.107 20.9857 206.362 20.2634C205.639 19.5413 204.556 19.0171 203.113 18.6909L200.003 17.957C198.512 17.6075 197.767 16.9552 197.767 16C197.767 15.371 198 14.8701 198.466 14.4973C198.931 14.1246 199.584 13.9382 200.423 13.9382C201.261 13.9382 201.913 14.1595 202.379 14.6022C202.844 15.0215 203.078 15.604 203.078 16.3495H207.131C207.107 15.2312 206.816 14.2527 206.257 13.414C205.721 12.5753 204.965 11.9229 203.986 11.457C203.008 10.991 201.878 10.7581 200.597 10.7581C199.27 10.7581 198.093 10.9794 197.069 11.4221C196.044 11.8414 195.228 12.4588 194.623 13.2742C194.04 14.0896 193.75 15.0565 193.75 16.1747C193.75 17.5493 194.122 18.6327 194.868 19.4247C195.636 20.1936 196.8 20.7527 198.361 21.1022L201.471 21.836C202.239 21.9992 202.764 22.2438 203.043 22.5699C203.323 22.8961 203.462 23.2688 203.462 23.6882C203.462 24.3172 203.194 24.8181 202.659 25.1909C202.146 25.5637 201.377 25.75 200.353 25.75C199.398 25.75 198.652 25.5287 198.117 25.086C197.581 24.6434 197.301 24.0493 197.278 23.3038ZM218.45 29C216.749 29 215.236 28.6156 213.908 27.8468C212.603 27.0547 211.578 25.983 210.834 24.6317C210.088 23.2572 209.716 21.6847 209.716 19.914C209.716 18.1201 210.076 16.5359 210.799 15.1613C211.52 13.7868 212.534 12.7151 213.838 11.9462C215.142 11.1541 216.633 10.7581 218.31 10.7581C220.057 10.7581 221.559 11.1308 222.817 11.8764C224.075 12.5986 225.041 13.6121 225.717 14.9167C226.416 16.2214 226.765 17.7823 226.765 19.5995V20.8925L213.782 20.9231C213.91 22.2615 214.29 23.3114 214.921 24.0726C215.736 25.0278 216.936 25.5054 218.52 25.5054C219.684 25.5054 220.639 25.2841 221.385 24.8414C222.153 24.3988 222.654 23.7698 222.887 22.9543H226.835C226.462 24.8414 225.53 26.3208 224.04 27.3925C222.573 28.4642 220.709 29 218.45 29ZM214.258 16.7688C214.079 17.1977 213.946 17.6753 213.859 18.2016H222.538C222.538 17.0134 222.153 16.0583 221.385 15.336C220.639 14.6138 219.626 14.2527 218.345 14.2527C217.343 14.2527 216.494 14.4624 215.795 14.8817C215.119 15.3011 214.607 15.9301 214.258 16.7688ZM241 15.1613V11.2124C240.651 11.1192 240.325 11.0609 240.022 11.0376C239.719 11.0143 239.417 11.0027 239.113 11.0027C237.74 11.0027 236.622 11.3638 235.759 12.086C235.172 12.5783 234.731 13.1679 234.436 13.8548L234.187 11.3172H230.169V28.5457H234.432V20.1586C234.432 18.4812 234.875 17.2348 235.759 16.4194C236.645 15.5806 237.868 15.1613 239.428 15.1613H241Z"
				fill="currentColor"
			/>
		),
		label: "Dot Browser brand logo"
	}
};

const ProductLockup = ({
	product,
	mark,
	type,
	href
}: {
	product: keyof typeof products;
	mark: boolean;
	type: boolean;
	href?: string;
}) => {
	const productData = products[product];

	let width = 0;

	if (mark) width += 49;
	if (type) width += 192;

	const ParentEl = (props: any) =>
		href
			? createElement(
					Link,
					{
						...props,
						class: "fdn-not-visited",
						href,
						"aria-label": productData.label
					} as any,
					props.children
			  )
			: createElement(Fragment, props, props.children);

	return (
		<div class="fdn-logo">
			<ParentEl>
				<svg
					alt={productData.label}
					aria-label={productData.label}
					viewBox={`0 0 ${width} 32`}
					width={width}
					height={32}
					fill="none"
					xmlns="http://www.w3.org/2000/svg"
					xmlnsXlink="http://www.w3.org/1999/xlink"
				>
					{type && <productData.wordtype />}
					{mark && <productData.logo />}
				</svg>
			</ParentEl>
		</div>
	);
};

export default ProductLockup;
